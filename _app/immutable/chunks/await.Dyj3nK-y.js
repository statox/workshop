import{A as U,B,h,a as G,N as L,O as m,C as c,q as O,U as T,E as Q,P as k,m as A,Q as C,R as q,T as w,V as p,W as y,f as R,X as V}from"./index-client.-dvqkx9U.js";const N=0,l=1,x=2;function X(D,H,n,I,o){h&&G();var i=D,b=U(),P=V,a=T,r,s,t,_=(b?k:A)(void 0),v=(b?k:A)(void 0),d=!1;function u(e,f){d=!0,f&&(C(E),q(E),w(P));try{e===N&&n&&(r?p(r):r=c(()=>n(i))),e===l&&I&&(s?p(s):s=c(()=>I(i,_))),e===x&&o&&(t?p(t):t=c(()=>o(i,v))),e!==N&&r&&y(r,()=>r=null),e!==l&&s&&y(s,()=>s=null),e!==x&&t&&y(t,()=>t=null)}finally{f&&(w(null),q(null),C(null),R())}}var E=B(()=>{if(a!==(a=H())){if(L(a)){var e=a;d=!1,e.then(f=>{e===a&&(m(_,f),u(l,!0))},f=>{if(e===a&&(m(v,f),u(x,!0),!o))throw v.v}),h?n&&(r=c(()=>n(i))):O(()=>{d||u(N,!0)})}else m(_,a),u(l,!1);return()=>a=T}});h&&(i=Q)}export{X as a};
